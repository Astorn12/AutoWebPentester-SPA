import { Route, Router } from '@angular/router';
import { WebsiteService } from './../_services/website.service';
import { Component, OnInit, Input, OnChanges } from '@angular/core';
import { Website } from '../_model/website';

@Component({
  selector: 'app-websitedetails',
  templateUrl: './websitedetails.component.html',
  styleUrls: ['./websitedetails.component.css']
})
export class WebsitedetailsComponent implements OnInit,OnChanges {
  @Input() chosenWebSite: Website;
  details: any;
  constructor(public webSiteService: WebsiteService, private router: Router) { 
  }
  

  ngOnInit() {
  }

  ngOnChanges(changes): void {
  this.webSiteService.getDetails(this.chosenWebSite.id).subscribe(result=>{
  this.details=result});
    }

    startPentests(){
      this.router.navigate(['/attacks/'+this.chosenWebSite.url]);
    }

    showReport(){
      this.router.navigate(['/report/'+this.chosenWebSite.url]);
    }
}
