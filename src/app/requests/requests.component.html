<div class="container h-100% " >
 
  <div class="w-100 d-flex justify-content-center"  >
  <mat-form-field class="col-5">
    <mat-label>Website address</mat-label>
    <input matInput placeholder="Ex. www.google.com" value="">
  </mat-form-field>
</div>
  <div class="d-flex flex-wrap justify-content-between  h-100">
<p-tabView class="col-sm-12 col-md-12 col-lg-6 h-100">
  
  <p-tabPanel header="With help">

    <div clas="d-flex flex-row">
      <form class="example-form">
      <mat-form-field>
        <input type="text"
        placeholder="Post method"
        matInput
        [formControl]="myControl"
        [matAutocomplete]="auto">
        <mat-autocomplete #auto="matAutocomplete">
          <mat-option  *ngFor="let method  of filteredOptions | async" [value]=method.name >
            {{method?.name}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

    

      <mat-form-field class="ml-4">
        <input type="text"
               placeholder="Pick one"
             
               matInput
               [formControl]="versionControl"
               [matAutocomplete]="auto1">
        <mat-autocomplete #auto1="matAutocomplete">
          <mat-option *ngFor="let version of httpVersion" [value]="version">
            {{version}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field class="w-100">
        <mat-label>Url</mat-label>
        <input matInput placeholder="Ex. /start">
      </mat-form-field>

      <div class="d-flex flex-row">
        <button mat-button matTooltip="Percent-Encoding">%Encoding</button>
        <button mat-button matTooltip="Add param">Params</button>
      </div>
     
     
    </form>



    </div>
      <div>
        <mat-list #headers>
        <mat-list-item class="m-4" style="height:auto" *ngFor="let header of chosenHeaders">
         
          <div class="d-flex flex-wrap">
            <div class="d-flex flex-row align-items-center">
            <mat-form-field class="w-100">

              <input type="text"
           placeholder="Header's name"
           aria-label="Number"
           matInput
           (change)="nullPossibleValues(header)"
           
           [matAutocomplete]="auto"
           >
           <mat-autocomplete #auto="matAutocomplete">
            <mat-option  (click)="mapHeader(header,possibleHeader)"   *ngFor="let possibleHeader of allHeaders" [value]="possibleHeader?.name">
              {{possibleHeader?.name}}
            </mat-option>
          </mat-autocomplete>

              
              
            </mat-form-field>
            <div class="d-flex justify-content-center">
              <button mat-icon-button [matMenuTriggerFor]="menu"><mat-icon id="smallButton">keyboard_arrow_down</mat-icon></button>
    <mat-menu #menu="matMenu">
      <button  mat-icon-button (click)="addValue(header)" ><mat-icon id="smallButton">add_circle</mat-icon></button>
      <button  mat-icon-button (click)="removeHeader(header)" ><mat-icon id="smallButton">clear</mat-icon></button>
    </mat-menu>
          
            </div>
          </div>
        <div class="headerValuesList">
        <mat-list #values>
          <mat-list-item *ngFor="let value of header.choosenValues">
            <mat-form-field class="d-flex flex-row">
              <input type="text"
              placeholder="Value"
              aria-label="Number"
              matInput
              
            
              [matAutocomplete]="auto1"
              >
              <mat-autocomplete #auto1="matAutocomplete">
                <mat-option *ngFor="let possibleValue of header.possibleValues" [value]="possibleValue.value">
                  {{possibleValue?.value}}
                     
                </mat-option>
              </mat-autocomplete>
              
              
            </mat-form-field>
            <button  mat-icon-button (click)="removeValue(header,value)" ><mat-icon id="smallButton">clear</mat-icon></button>
          </mat-list-item>
        </mat-list>
      </div>
  
        
      </div>
       

        </mat-list-item>
      </mat-list>
    </div>

      <div class="d-flex flex-row justify-content-around">
        <button  mat-icon-button (click)="addHeader()" ><mat-icon id="bigButton">add_circle</mat-icon></button>
      
      </div>
      

  </p-tabPanel>
  <p-tabPanel header="By hand">
    <td-code-editor #editor class="editor" theme="vs" [language]="editorLanguage" [(ngModel)]="editorVal" flex>
    </td-code-editor>
  </p-tabPanel>

</p-tabView>

<div class="d-flex justify-content-center align-items-center mx-auto col-sm-12 col-md-12 col-lg-1 ">
  <button (click)="makeRequest()" class="btn btn-secondary"><svg class="bi bi-chevron-double-right" width="2em" height="2em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" d="M3.646 1.646a.5.5 0 01.708 0l6 6a.5.5 0 010 .708l-6 6a.5.5 0 01-.708-.708L9.293 8 3.646 2.354a.5.5 0 010-.708z" clip-rule="evenodd"/>
    <path fill-rule="evenodd" d="M7.646 1.646a.5.5 0 01.708 0l6 6a.5.5 0 010 .708l-6 6a.5.5 0 01-.708-.708L13.293 8 7.646 2.354a.5.5 0 010-.708z" clip-rule="evenodd"/>
  </svg> </button>
</div>

<mat-card class="mt-2 col-lg-5">
  <mat-card-header>
    <mat-card-title>Response</mat-card-title>
  </mat-card-header>
  <mat-card-content>

  </mat-card-content>
  <mat-card-actions>
    <textarea  w-100 h-100 >{{response?.statusCode}}</textarea>
  </mat-card-actions>
</mat-card>



</div>
</div>